@{ ViewBag.Title = "Home Page";

    var updateFlag = false;
    var title = "Registration";
    var buttonName = "Submit";
    var msg = "";
    if (Model.isUpdate != 0)
    {
        title = "Profile";
        updateFlag = true;
        buttonName = "Update";


        if (Model.isUpdate == -1)
        {
            msg = "User profile details have been added successfully.";
        }

        if (Model.isUpdate == -2)
        {
            msg = "User profile details have been updated successfully.";
        }

        if (Model.isUpdate == -3)
        {
            msg = "User profile is already existing.";
        }
    }

    var role = ((Scanner.Models.User)Session["User"]).Role;

    var GramDisp = "";

    if (role.IndexOf("Gram") < 0)
    {
        GramDisp = "none";
    }

    var ReturnUrl = (Request.QueryString["ReturnUrl"] != null) ? "ReturnUrl=" + Request.QueryString["ReturnUrl"] : "";


#line default
#line hidden

#line 4 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = title;


#line default
#line hidden

#line 5 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.UserName);


#line default
#line hidden

#line 6 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    if (updateFlag)
    {


#line default
#line hidden

#line 7 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = Html.TextBoxFor(u => u.UserName, new { @readonly = "readonly", @style = "background:yellow !important" });


#line default
#line hidden

#line 8 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = Html.ValidationMessageFor(u => u.UserName);


#line default
#line hidden

#line 9 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

    }
    else
    {


#line default
#line hidden

#line 10 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = Html.TextBoxFor(u => u.UserName);


#line default
#line hidden

#line 11 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = Html.ValidationMessageFor(u => u.UserName);


#line default
#line hidden

#line 12 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

    }

#line default
#line hidden

#line 13 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Password);


#line default
#line hidden

#line 14 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.PasswordFor(u => u.Password, new { value = Model.Password });


#line default
#line hidden

#line 15 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.Password);


#line default
#line hidden

#line 16 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.RePassword);


#line default
#line hidden

#line 17 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.PasswordFor(u => u.RePassword, new { value = Model.Password });


#line default
#line hidden

#line 18 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.RePassword);


#line default
#line hidden

#line 19 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.CompanyName);


#line default
#line hidden

#line 20 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.CompanyName, new { style = "width:450px;", list = "companyList" });


#line default
#line hidden

#line 21 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = ViewBag.Newcompany;


#line default
#line hidden

#line 22 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    foreach (var comp in ViewBag.CompanyList)
    {


#line default
#line hidden

#line 23 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = comp;


#line default
#line hidden

#line 24 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

    }

#line default
#line hidden

#line 25 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.CompanyName);


#line default
#line hidden

#line 26 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.DriverLic);


#line default
#line hidden

#line 27 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.DriverLic);


#line default
#line hidden

#line 28 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.DriverLic);


#line default
#line hidden

#line 29 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.ABN);


#line default
#line hidden

#line 30 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.ABN);


#line default
#line hidden

#line 31 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.ABN);


#line default
#line hidden

#line 32 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = GramDisp;


#line default
#line hidden

#line 33 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.ACCGroup);


#line default
#line hidden

#line 34 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    foreach (ACCGroup acc in ((IList<ACCGroup>)ViewBag.AccGroups))
    {
        var sel = "";
        if (Model.ACCGroup == acc.ACCGROUP)
        {
            sel = "selected";
        }


#line default
#line hidden

#line 35 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = acc.ACCGROUP;


#line default
#line hidden

#line 36 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = sel;


#line default
#line hidden

#line 37 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = acc.GROUPNAME;


#line default
#line hidden

#line 38 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

    }

#line default
#line hidden

#line 39 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.ACCNO);


#line default
#line hidden

#line 40 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.UserEmail);


#line default
#line hidden

#line 41 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.UserEmail);


#line default
#line hidden

#line 42 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.UserEmail);


#line default
#line hidden

#line 43 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.FirstName);


#line default
#line hidden

#line 44 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.FirstName);


#line default
#line hidden

#line 45 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.FirstName);


#line default
#line hidden

#line 46 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.LastName);


#line default
#line hidden

#line 47 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.LastName);


#line default
#line hidden

#line 48 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.LastName);


#line default
#line hidden

#line 49 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Mobile);


#line default
#line hidden

#line 50 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.Mobile);


#line default
#line hidden

#line 51 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.Mobile);


#line default
#line hidden

#line 52 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Phone);


#line default
#line hidden

#line 53 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.Phone);


#line default
#line hidden

#line 54 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.Phone);


#line default
#line hidden

#line 55 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Address1);


#line default
#line hidden

#line 56 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.Address1);


#line default
#line hidden

#line 57 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.Address1);


#line default
#line hidden

#line 58 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Address2);


#line default
#line hidden

#line 59 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.Address2);


#line default
#line hidden

#line 60 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.Address2);


#line default
#line hidden

#line 61 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.State);


#line default
#line hidden

#line 62 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.State);


#line default
#line hidden

#line 63 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.State);


#line default
#line hidden

#line 64 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Postcode);


#line default
#line hidden

#line 65 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.Postcode);


#line default
#line hidden

#line 66 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.Postcode);


#line default
#line hidden

#line 67 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Country);


#line default
#line hidden

#line 68 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.Country);


#line default
#line hidden

#line 69 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.Country);


#line default
#line hidden

#line 70 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = GramDisp;


#line default
#line hidden

#line 71 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.Approved);


#line default
#line hidden

#line 72 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.CheckBoxFor(u => u.Approved);


#line default
#line hidden

#line 73 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.LabelFor(u => u.isUpdate);


#line default
#line hidden

#line 74 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.TextBoxFor(u => u.isUpdate);


#line default
#line hidden

#line 75 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = Html.ValidationMessageFor(u => u.isUpdate);


#line default
#line hidden

#line 76 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = buttonName;


#line default
#line hidden

#line 77 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    __o = ReturnUrl;


#line default
#line hidden

#line 78 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
    if (msg != "")
    {


#line default
#line hidden

#line 79 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"


        if ((Model.isUpdate == -1) || (Model.isUpdate == -1))
        {


#line default
#line hidden

#line 80 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
            __o = msg;


#line default
#line hidden

#line 81 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

        }
        else
        {


#line default
#line hidden

#line 82 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
            __o = msg;


#line default
#line hidden

#line 83 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

        }

        if (Request.QueryString["ReturnUrl"] != null)
        {


#line default
#line hidden

#line 84 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

        }
    }
    else
    {


#line default
#line hidden

#line 85 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"
        __o = Html.ValidationSummary(true, "Submit failed. Check your input details.");


#line default
#line hidden

#line 86 "C:\Users\engineering\Documents\Visual Studio 2017\Projects\GramEngineering\GramEngineering\Views\Home\Registration.cshtml"

    }}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <style type="text/css">
        body {
            font-family: Arial;
            font-size: 10pt;
        }
    </style>
</head>
<body>
    <table border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td align="center"><u>Live Camera</u></td>
            <td></td>
            <td align="center"><u>Captured Picture</u></td>
        </tr>
        <tr>
            <td><div id="webcam"></div> </td>
            <td> &nbsp;</td>
            <td><img id="imgCapture" style="visibility: hidden; width: 320px;height: 240px" /></td>
        </tr>
    </table>
    <br />
    <input type="button" value="Capture" onclick="Capture();" />
    <br />
    <span id="camStatus"></span>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="~/Webcam_Plugin/jquery.webcam.js"></script>
    <script type="text/javascript">
        $(function () {
            jQuery("#webcam").webcam({
                width: 320,
                height: 240,
                mode: "save",
                swffile: '/Webcam_Plugin/jscam.swf',
                debug: function (type, status) {
                    $('#camStatus').append(type + ": " + status + '<br /><br />');
                },
                onSave: function (data, ab) {
                    $.ajax({
                        type: "POST",
                        url: '/Home/GetCapture',
                        data: '',
                        contentType: "application/json; charset=utf-8",
                        dataType: "text",
                        success: function (r) {
                            $("#imgCapture").css("visibility", "visible");
                            $("#imgCapture").attr("src", r);
                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                },
                onCapture: function () {
                    webcam.save('/Home/Capture');
                }
            });
        });
        function Capture() {
            webcam.capture();
        }
    </script>
</body>
</html>
